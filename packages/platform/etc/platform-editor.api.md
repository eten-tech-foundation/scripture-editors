## API Report File for "@eten-tech-foundation/platform-editor"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts

import { ForwardRefExoticComponent } from 'react';
import { MouseEvent as MouseEvent_2 } from 'react';
import { Op } from 'quill-delta';
import { RefAttributes } from 'react';
import { RefObject } from 'react';
import { SerializedVerseRef } from '@sillsdev/scripture';
import { Usj } from '@eten-tech-foundation/scripture-utilities';

// @public
export type AddMissingComments = (usjCommentIds: string[]) => void;

// @public
export interface AnnotationRange {
    end: UsjLocation;
    start: UsjLocation;
}

// @public
export interface CommentBase {
    author: string;
    content: string;
    deleted: boolean;
    id: string;
    timeStamp: number;
    type: "comment";
}

// @public
export type Comments = (Thread | CommentBase)[];

// @public
export type DeltaOp = Op;

// @public
export interface DeltaOpInsertNoteEmbed extends DeltaOp {
    insert: {
        note: OTNoteEmbed | null;
    };
}

// @public
export type DeltaSource = "local" | "remote";

// @public
export const directionToNames: {
    [textDirection in TextDirection]: string;
};

// @public
export const Editorial: ForwardRefExoticComponent<EditorProps<LoggerBasic> & RefAttributes<EditorRef | null>>;

// @public
export interface EditorOptions {
    debug?: boolean;
    hasExternalUI?: boolean;
    hasSpellCheck?: boolean;
    isReadonly?: boolean;
    markerMenuTrigger?: string;
    nodes?: UsjNodeOptions;
    textDirection?: TextDirection;
    view?: ViewOptions;
}

// @public
export interface EditorProps<TLogger extends LoggerBasic> {
    defaultUsj?: Usj;
    logger?: TLogger;
    onScrRefChange?: (scrRef: SerializedVerseRef) => void;
    onSelectionChange?: (selection: SelectionRange | undefined) => void;
    onStateChange?: (canUndo: boolean, canRedo: boolean, blockMarker: string | undefined) => void;
    onUsjChange?: (usj: Usj, ops?: DeltaOp[], source?: DeltaSource, insertedNodeKey?: string) => void;
    options?: EditorOptions;
    scrRef?: SerializedVerseRef;
}

// @public
export interface EditorRef {
    addAnnotation(selection: AnnotationRange, type: string, id: string): void;
    applyUpdate(ops: DeltaOp[], source?: DeltaSource): void;
    copy(): void;
    cut(): void;
    focus(): void;
    formatPara(blockMarker: string): void;
    getElementByKey(nodeKey: string): HTMLElement | undefined;
    getNoteOps(noteKeyOrIndex: string | number): DeltaOp[] | undefined;
    getSelection(): SelectionRange | undefined;
    getUsj(): Usj | undefined;
    insertNote(marker: string, caller?: string, selection?: SelectionRange): void;
    paste(): void;
    pastePlainText(): void;
    redo(): void;
    removeAnnotation(type: string, id: string): void;
    replaceEmbedUpdate(embedNodeKey: string, insertEmbedOps: DeltaOp[]): void;
    selectNote(noteKeyOrIndex: string | number): void;
    setSelection(selection: SelectionRange): void;
    setUsj(usj: Usj): void;
    toolbarEndRef: RefObject<HTMLElement | null> | null;
    undo(): void;
}

// @public
export const GENERATOR_NOTE_CALLER = "+";

// @public
export const getDefaultViewMode: () => "formatted" | "unformatted";

// @public
export const getDefaultViewOptions: () => ViewOptions;

// @public
export function getViewMode(viewOptions: ViewOptions | undefined): ViewMode | undefined;

// @public
export function getViewOptions(viewMode?: string | undefined): ViewOptions | undefined;

// @public
export const HIDDEN_NOTE_CALLER = "-";

// @public
export function isInsertEmbedOpOfType<T extends keyof OTEmbedTypes>(embedType: T, op: DeltaOp | undefined): op is DeltaOp & {
    insert: {
        [K in T]: OTEmbedTypes[K] | null;
    };
};

// @public
export interface LoggerBasic {
    debug(...params: any[]): void;
    error(...params: any[]): void;
    info(...params: any[]): void;
    warn(...params: any[]): void;
}

// @public
export const Marginal: ForwardRefExoticComponent<MarginalProps<LoggerBasic> & RefAttributes<MarginalRef>>;

// @public
export interface MarginalProps<TLogger extends LoggerBasic> extends Omit<EditorProps<TLogger>, "onUsjChange"> {
    onCommentChange?: (comments: Comments | undefined) => void;
    onUsjChange?: (usj: Usj, comments: Comments | undefined, ops?: DeltaOp[], source?: DeltaSource, insertedNodeKey?: string) => void;
    showCommentsContainerRef?: RefObject<HTMLElement | null> | null;
}

// @public
export interface MarginalRef extends EditorRef {
    setComments?(comments: Comments): void;
}

// @public
export type MarkerMode =
/** USFM markers are visible. */
"visible"
/** USFM markers are editable. */
| "editable"
/** USFM markers are hidden. */
| "hidden";

// @public
export interface NodeOptions {
    [prop: string]: unknown;
}

// @public
export type NoteCallerOnClick = (event: MouseEvent_2<HTMLButtonElement>, noteNodeKey: string, isCollapsed: boolean | undefined, getCaller: () => string, setCaller: (caller: string) => void, getNoteOps: () => DeltaOpInsertNoteEmbed[] | undefined) => void;

// @public
export type NoteMode =
/** All notes are always collapsed. Only the callers are displayed. */
"collapsed"
/** A note is expanded inline when the cursor enters it via the caller and collapses on exit. */
| "expandInline"
/** All notes are always expanded. */
| "expanded";

// @public
export interface OTChapterEmbed extends OTParaAttribute {
    altnumber?: string;
    number: string;
    pubnumber?: string;
    sid?: string;
}

// @public
export interface OTEmbedTypes {
    "immutable-chapter": OTChapterEmbed;
    "immutable-verse": OTVerseEmbed;
    chapter: OTChapterEmbed;
    ms: OTMilestoneEmbed;
    note: OTNoteEmbed;
    unmatched: OTUnmatchedEmbed;
    verse: OTVerseEmbed;
}

// @public
export interface OTMilestoneEmbed extends OTParaAttribute {
    eid?: string;
    sid?: string;
    status?: "start" | "end";
    who?: string;
}

// @public
export interface OTNoteEmbed extends OTParaAttribute {
    caller: string;
    category?: string;
    contents?: {
        ops?: DeltaOp[];
    };
}

// @public
export interface OTParaAttribute {
    style: string;
}

// @public
export interface OTUnmatchedEmbed {
    marker: string;
}

// @public
export interface OTVerseEmbed extends OTParaAttribute {
    altnumber?: string;
    number: string;
    pubnumber?: string;
    sid?: string;
}

// @public
export interface SelectionRange {
    end?: UsjLocation;
    start: UsjLocation;
}

// @public
export type TextDirection = "ltr" | "rtl" | "auto";

// @public
export interface Thread {
    comments: CommentBase[];
    id: string;
    quote: string;
    type: "thread";
}

// @public
export interface UsjLocation {
    jsonPath: string;
    offset: number;
}

// @public
export interface UsjNodeOptions extends NodeOptions {
    addMissingComments?: AddMissingComments;
    noteCallerOnClick?: NoteCallerOnClick;
    noteCallers?: string[];
}

// @public
export type ViewMode = keyof typeof viewModeToViewNames;

// @public
export const viewModeToViewNames: {
    formatted: string;
    unformatted: string;
};

// @public
export interface ViewOptions {
    hasSpacing: boolean;
    isFormattedFont: boolean;
    markerMode: MarkerMode;
    noteMode?: NoteMode;
}

```
